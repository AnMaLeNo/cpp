/* ************************************************************************** */
/*                                                                            */
/*                                                        :::      ::::::::   */
/*   ShrubberyCreationForm.cpp                          :+:      :+:    :+:   */
/*                                                    +:+ +:+         +:+     */
/*   By: amonot <amonot@student.42.fr>              +#+  +:+       +#+        */
/*                                                +#+#+#+#+#+   +#+           */
/*   Created: 2025/03/05 15:10:31 by amonot            #+#    #+#             */
/*   Updated: 2025/03/14 16:27:11 by amonot           ###   ########.fr       */
/*                                                                            */
/* ************************************************************************** */

#include "ShrubberyCreationForm.hpp"
#include <fstream>

ShrubberyCreationForm::ShrubberyCreationForm(void) :
	AForm("shrubbery creation", 145, 137),
	_target("default")
{}

ShrubberyCreationForm::ShrubberyCreationForm(const std::string &target) :
	AForm("shrubbery creation", 145, 137),
	_target(target)
{}

ShrubberyCreationForm::ShrubberyCreationForm(const ShrubberyCreationForm &other) :
	AForm(other.getName(), 145, 137),
	_target(other._target)
{}

ShrubberyCreationForm::~ShrubberyCreationForm(void)
{}

ShrubberyCreationForm &ShrubberyCreationForm::operator=(const ShrubberyCreationForm &other)
{
	if (this != &other)
	{
		_target = other._target; // check _signed
	}
	return (*this);
}

void ShrubberyCreationForm::execute(Bureaucrat const & executor) const
{
	if (this->getSigned() == 0)
		throw NotSignedException();
	if (this->getGradeExec() < executor.getGrade())
		throw GradeTooLowException();
	std::ofstream file;

	file.exceptions(std::ofstream::failbit | std::ofstream::badbit);
	file.open((_target + "_shrubbery").c_str());
	file << "ð–£‚â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â¢±â£¸â €â €â €â €â €â €â €â €â¡„â¡„â¢€â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â¢€â €â €â €â €â €â €â €\nâ €â €â €â €â €â €â €â €â €â €â €â €â¢€â¡€â¢¶â¢ â €â¢€â¡¸â¡„â ’â¢ºâ €â£¸â£€â¡€â£¦â ½â ‘â â €â €â €â €â €â €â €â£†â£€â —â ‚â €â €â¡†â¢ â ƒâ¡ â œâ ’â €â €â €â €â €â €\nâ €â €â €â €â €â €â €â €â €â¡„â €â¢¤â žâ¢³â Šâ “â £â¢¸â¡¸â£²â ‡â£˜â£¦â šâ¢—â£»â ‰â »â¡´â ‚â¢€â£€â €â €â£ â ‚â €â¡‡â €â €â €â €â¡šâ¡²â¢ƒâ¡‰â €â €â €â €â €â €â €â €â €\nâ €â €â €â €â €â €â €â €â â ºâ ¤â¢¼â¡€â¡žâ¢¶â ¦â£¤â¡–â ¯â ­â¡½â Ÿâ¡²â €â €â£†â ´â Šâ¢€â €â ˆâ …â¡œâ ’â â €â €â ‰â¢±â €â €â €â ˆâ£‘â¡¼â â¢€â¢ â¢ â „â¢ â †â €â €â €\nâ €â €â €â €â €â €â ¢â¢„â¢³â£â£€â †â ƒâ£‡â¡‡â œâ â¢³â¡„â¢°â¢ƒâ¡ˆâ¡©â£²â ¾â¡ƒâ¢€â €â ˜â ¤â¢â£ â ƒâ¢ â¢¼â£‡â£°â¢ƒâ£¼â €â €â €â£©â¡¾â ¦â£†â ·â£…â œâ ‰â â €â €â €â €\nâ €â €â €â¢¦â €â ˆâ ’â¡¥â£½â¢â Œâ¢¹â¢¶â¡¤â¡§â£¾â €â €â ™â£¾â£¤â –â ¿â¡¿â£„â¡—â¢´â¢£â¡Œâ¢²â£©â šâ ¸â£Œâ£â ¹â£¸â£šâ¡™â¢·â£¤â žâ ¡â¢„â£€â¡³â£Žâ €â €â €â €â €â €â €â €\nâ €â¢„â££â¡ˆâ ¦â¡œâ£¸â¡¹â£°â ƒâ¡€â¢±â£›â£°â£‘â¢½â£§â €â¢°â£¿â¡‡â °â ‹â ‘â¡œâ¡—â¡žâ ‹â ‚â ˜â¢¦â ³â£ â ¿â ¦â£¼â¢©â£¤â¢Šâ¡¾â ‹â €â €â €â ‹â €â¢¨â â €â €â €â €â €â €â €\nâ €â €â¢â ‡â €â¡â €â ˆâ¢¾â¡„â ™â£¤â ƒâ£Ÿâ €â ‹â£¿â£…â¡¾â¢»â¢€â¡€â¡†â£°â£¥â£Ÿâ¢±â£žâ£€â €â£¨â §â£¯â¡€â €â¢¸â£ˆâ£·â¡Ÿâ €â¢€â¢¦â €â €â €â¢ â â €â €â¡€â£·â €â €â €â €\nâ ¤â¢²â šâ¢’â¢»â ™â¢¶â£´â¢ºâ ‰â ’â¡§â ”â ›â ²â¢¤â£¸â£¿â â£¼â¡¶â ¿â ¿â£½â£“â£¸â¢¿â£“â¡¶â£šâ¢§â¡·â£¿â¢«â£¦â£¸â£¿â â¢¹â¡´â ‹â ¸â¡„â €â €â¡žâ €â¢°â£°â¢£â Šâ €â£°â¡ â €\nâ €â ˆâ¡„â €â¢­â¡‡â¡€â ‰â »â£‡â €â¡‡â €â €â €â£€â¡â¢¿â¡†â£¿â¢â¢€â¡´â ‹â£â£â¡¼â ‹â¡·â£‡â¡â£‡â£¿â¡œâ ‹â£¿â£¿â¡†â£¼â¡â¡„â£ â¢¹â €â£¸â â €â €â €â ›â£„â£¸â¡–â Šâ €\nâ â ´â£…â¡†â ˜â¡Žâ¢¢â €â €â¢¹â£Žâ£·â €â €â£€â¡•â »â¢šâ£¿â£¿â¡‰â ‰â ³â£„â£°â Ÿâ ‘â¢¶â â ¹â¢´â â¡‡â£ â£´â ¿â£â£¾â¡‡â¢¹â¡ƒâ¡—â¢¸â£·â¢ƒâ£ â ”â ‹â €â¢ â ƒâ €â ‘â ¹â €\nâ €â¢¤â¢Žâ£ˆâ¡²â µâ£ˆâ ‰â “â£¾â ™â£¾â£‡â €â €â ›â£†â¡‡â¢»â£¿â¡‡â €â£ â¡¾â ›â¢¶â¡†â ˆâ£‡â£°â â¢°â£¿â¢â¡â¢ â£â£¼â žâ ‰â ‰â ±â£¿â¢¿â¡­â£„â €â €â¢ â â €â €â €â €â €\nâ â šâ ’â ‚â ¼â£„â €â ‰â ¢â£¼â¡€â ˆâ¢»â£†â  â¡„â ³â¡‡â¢¸â£¿â£§â£¾â¡Ÿâ €â €â¢¸â¡‡â €â£¸â ‹â €â£¼â¡â¢¾â ›â£¿â¢¹â¡â €â €â¢€â¡¼â ƒâ¢˜â ‚â¢¨â €â¢€â¡žâ €â¢€â „â¢€â †â¡€\nâ €â €â €â €â €â ˆâ ³â£„â €â ˆâ ³â£„â €â£¿â£†â ¸â¡ â œâ£†â£¿â£¿â â €â €â €â¢¸â¡‡â¢°â ‡â €â¢€â£¿â â£¿â¢°â¡‡â£¼â â €â¢ â¡žâ â €â ¸â£šâ£®â µâ Ÿâ “â ¦â£¸â €â¡¤â ¼â “\nâ €â €â €â €â €â €â €â ™â¢¦â£€â£€â£ˆâ ³â£œâ¢¿â£¯â €â €â¢ˆâ£¿â¡¿â ¦â£¤â£€â €â¢¸â£·â¡â €â €â£¸â£¿â¡¾â ‹â£¿â¢â¡Ÿâ €â£°â£¯â£¤â ¶â žâ£‹â ½â¢“â£’â¡¡â ¤â ’â ›â ³â¢§â¡€â¡„\nâ €â €â €â €â €â €â €â €â €â ‰â ‰â ‰â ‰â ™â ³â£¿â£·â¡€â¢¸â£¿â¡‡â €â €â ‰â ›â¢¾â£¿â €â €â €â£¿â¡Ÿâ â£¸â£¿â£¾â£¿â£¿â Ÿâ¢‰â£ â£´â žâ ‹â ‰â ‰â ‰â ‚â €â €â €â €â ˆâ ƒâ €\nâ €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â ˆâ¢»â£¿â£¾â£¿â¡‡â €â €â €â €â¢¸â£¿â €â €â¢¸â¡Ÿâ¢€â£¼â¡¿â ‹â£¼â£¿â£¿â¡¿â ›â ‰â €â €â €â €â €â €â €â €â €â €â €â €â €â €\nâ €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â ™â£¿â£¿â¡‡â €â €â €â €â €â£¿â¡€â €â£¿â£·â¡¿â ‹â €â¢ â£¿â Ÿâ â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €\nâ €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â¢¸â£¿â£¿â£„â €â €â €â €â¢¿â¡‡â£¸â£¿â Ÿâ €â €â¢€â£¾â¡â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €\nâ €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â¢¸â£¿â£¿â£¿â£†â €â €â €â£¸â£·â£¿â¡‡â €â €â €â£¼â¡Ÿâ €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €\nâ €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â ¸â£¿â¡â¢¿â£¿â£¦â£€â£¾â£¿â¢¯â£¿â €â €â €â£¼â¡Ÿâ €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €\nâ €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â¢ â£¿â£¿â£®â£¿â£¿â£¿â¡¿â â£¸â¡Ÿâ €â €â£¼â¡Ÿâ €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €\nâ €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â ˜â¢¿â£¿â£¿â£¿â£¿â¡Ÿâ €â¢ â£¿â ƒâ €â£¼â¡¿â â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €\nâ €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â ¹â£¿â£¿â£¿â£·â£ â£¾â£¿â£¤â£¾â£¿â¡‡â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €\nâ €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â ¸â£¿â£¿â£¿â£¿â£¿â£¿â Ÿâ ‹â â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €\nâ €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â£¿â£¿â£¿â£¿â£¿â¡Ÿâ €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €\nâ €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â£¿â£¿â£¿â£¿â£¿â¡‡â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €\nâ €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â£¿â£¿â£¿â£¿â£¿â¡‡â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €\nâ €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â£¿â£¿â£¿â£¿â£¿â¡‡â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €\nâ €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â£¿â£¿â£¿â£¿â£¿â¡‡â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €\nâ €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â£¿â£¿â£¿â£¿â£¿â¡‡â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €\nâ €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â£¿â£¿â£¿â£¿â£¿â£·â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €\nâ €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â¢°â£¿â£¿â£¿â£¿â£¿â£¿â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €\nâ €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â¢¸â£¿â£¿â£¿â£¿â£¿â£¿â¡†â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €\nâ €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£‡â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €\nâ €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â£¸â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â¡„â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €\nâ €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â£°â¡¿â ¿â ›â »â£¿â£¿â ¿â ¿â ¿â¢¿â£„â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €\nâ €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â â €â €â €â €â ˆâ ¡â €â €â €â €â â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €";
	file.close();
}
